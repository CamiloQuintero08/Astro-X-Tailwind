---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout>
  <div class="max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8 text-white">
    <section class="text-center mb-12 p-8 bg-linear-to-r from-cyan-950/40 to-blue-950/40 rounded-xl border border-cyan-500/20 backdrop-blur-sm">
      <div class="flex items-center justify-center gap-3 mb-4">
        <svg
          class="w-10 h-10 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
          ></path>
        </svg>
        <h1
          class="text-4xl md:text-5xl font-bold text-white bg-linear-to-r from-cyan-400 to-blue-400 bg-clip-text"
        >
          Content Collections
        </h1>
      </div>

      <p class="text-body/90 text-lg leading-relaxed mb-4">
        Content Collections are Astro's powerful way to manage and query
        Markdown and MDX files with type safety, validation, and better
        performance.
      </p>

      <div class="bg-blue-950/30 border-l-4 border-blue-400 p-4 rounded-lg">
        <p class="text-blue-200 text-sm">
          üí° <strong>Why use Collections?</strong> They provide type-safe content,
          automatic validation, optimized querying, and better IDE support compared
          to using regular Markdown files.
        </p>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          ></path>
        </svg>
        What are Content Collections?
      </h2>

      <div
        class="bg-neutral-secondary-soft p-6 rounded-lg border border-default mb-6"
      >
        <p class="text-body/80 mb-4 leading-relaxed">
          Content Collections organize your Markdown and MDX files in the <code
            class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
            >src/content/</code
          > directory with:
        </p>
        <ul class="space-y-3">
          <li class="flex items-start gap-3">
            <span class="text-green-400 font-bold text-xl">‚úì</span>
            <div>
              <strong class="text-white">Type Safety:</strong>
              <span class="text-body/80">
                Define schemas with Zod for frontmatter validation</span
              >
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-green-400 font-bold text-xl">‚úì</span>
            <div>
              <strong class="text-white">Auto-completion:</strong>
              <span class="text-body/80">
                Full TypeScript support in your IDE</span
              >
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-green-400 font-bold text-xl">‚úì</span>
            <div>
              <strong class="text-white">Better Performance:</strong>
              <span class="text-body/80">
                Optimized queries and automatic indexing</span
              >
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-green-400 font-bold text-xl">‚úì</span>
            <div>
              <strong class="text-white">Validation:</strong>
              <span class="text-body/80">
                Catches errors at build time, not runtime</span
              >
            </div>
          </li>
        </ul>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-red-950/20 border border-red-500/30 p-6 rounded-lg">
          <h3
            class="text-lg font-semibold text-red-400 mb-3 flex items-center gap-2"
          >
            <span>‚ùå</span>
            Without Collections
          </h3>
          <div class="bg-black/30 p-4 rounded-lg text-sm">
            <pre
              class="text-red-300"><code>{`// No type safety
const posts = await Astro.glob('../posts/*.md');

// Runtime errors possible
const title = post.frontmatter.titel; // typo!
const date = new Date(post.frontmatter.date); // might fail`}</code></pre>
          </div>
        </div>

        <div class="bg-green-950/20 border border-green-500/30 p-6 rounded-lg">
          <h3
            class="text-lg font-semibold text-green-400 mb-3 flex items-center gap-2"
          >
            <span>‚úÖ</span>
            With Collections
          </h3>
          <div class="bg-black/30 p-4 rounded-lg text-sm">
            <pre
              class="text-green-300"><code>{`// Full type safety
const posts = await getCollection('blog');

// TypeScript catches errors
const title = post.data.title; // autocomplete!
const date = post.data.date; // validated Date object`}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
          ></path>
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
        Setup Guide
      </h2>

      <div
        class="flex flex-col sm:flex-row gap-4 sm:gap-6 bg-neutral-secondary-soft p-6 rounded-lg border border-default hover:border-cyan-500/50 transition-all duration-300 mb-6 group"
      >
        <div
          class="shrink-0 w-12 h-12 sm:w-14 sm:h-14 bg-linear-to-br from-cyan-500 to-blue-500 text-white font-bold text-2xl rounded-full flex items-center justify-center group-hover:scale-110 transition-transform"
        >
          1
        </div>
        <div class="flex-1">
          <h3 class="text-2xl font-bold text-white mb-2">
            Create the content directory
          </h3>
          <p class="text-body/80 mb-4">
            Create a <code class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
              >src/content/</code
            > directory and add collection folders:
          </p>
          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-300 font-mono"><code>src/
‚îî‚îÄ‚îÄ content/
    ‚îú‚îÄ‚îÄ config.ts       # Collection definitions
    ‚îú‚îÄ‚îÄ blog/           # Blog collection
    ‚îÇ   ‚îú‚îÄ‚îÄ post-1.md
    ‚îÇ   ‚îî‚îÄ‚îÄ post-2.md
    ‚îî‚îÄ‚îÄ docs/           # Docs collection
        ‚îî‚îÄ‚îÄ guide.mdx</code></pre>
          </div>
        </div>
      </div>

      <div
        class="flex flex-col sm:flex-row gap-4 sm:gap-6 bg-neutral-secondary-soft p-6 rounded-lg border border-default hover:border-cyan-500/50 transition-all duration-300 mb-6 group"
      >
        <div
          class="shrink-0 w-12 h-12 sm:w-14 sm:h-14 bg-linear-to-br from-cyan-500 to-blue-500 text-white font-bold text-2xl rounded-full flex items-center justify-center group-hover:scale-110 transition-transform"
        >
          2
        </div>
        <div class="flex-1">
          <h3 class="text-2xl font-bold text-white mb-2">
            Define your schemas
          </h3>
          <p class="text-body/80 mb-4">
            Create <code class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
              >src/content/config.ts</code
            > and define your collections:
          </p>
          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-200"><code>{`import { defineCollection, z } from 'astro:content';

const blog = defineCollection({
  type: 'content', // or 'data' for JSON/YAML
  schema: z.object({
    title: z.string(),
    description: z.string(),
    pubDate: z.date(),
    author: z.string(),
    image: z.string().optional(),
    tags: z.array(z.string()).default([]),
    draft: z.boolean().default(false),
  }),
});

const docs = defineCollection({
  type: 'content',
  schema: z.object({
    title: z.string(),
    description: z.string(),
    category: z.enum(['guide', 'reference', 'tutorial']),
    order: z.number().default(0),
  }),
});

export const collections = { blog, docs };`}</code></pre>
          </div>
        </div>
      </div>

      <div
        class="flex flex-col sm:flex-row gap-4 sm:gap-6 bg-neutral-secondary-soft p-6 rounded-lg border border-default hover:border-cyan-500/50 transition-all duration-300 group"
      >
        <div
          class="shrink-0 w-12 h-12 sm:w-14 sm:h-14 bg-linear-to-br from-cyan-500 to-blue-500 text-white font-bold text-2xl rounded-full flex items-center justify-center group-hover:scale-110 transition-transform"
        >
          3
        </div>
        <div class="flex-1">
          <h3 class="text-2xl font-bold text-white mb-2">
            Create content files
          </h3>
          <p class="text-body/80 mb-4">
            Add Markdown or MDX files to your collection folders:
          </p>
          <div class="bg-black/30 p-4 rounded-lg">
            <p class="text-cyan-300 text-sm mb-2">
              src/content/blog/first-post.md
            </p>
            <pre
              class="text-sm text-cyan-200"><code>{`---
title: My First Blog Post
description: This is my first post using Content Collections
pubDate: 2024-01-15
author: John Doe
tags: [astro, web-dev]
---

# Hello World!

This is my first blog post using Astro Content Collections.

It's **type-safe** and **validated**!`}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
        Querying Collections
      </h2>

      <div class="space-y-6">
        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-cyan-400 mb-3">getCollection()</h3>
          <p class="text-body/80 mb-4">
            Get all entries from a collection with optional filtering:
          </p>

          <div class="space-y-4">
            <div class="bg-black/30 p-4 rounded-lg">
              <p class="text-cyan-300 text-sm mb-2">Get all posts</p>
              <pre
                class="text-sm text-cyan-200"><code>{`---
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
---`}</code></pre>
            </div>

            <div class="bg-black/30 p-4 rounded-lg">
              <p class="text-cyan-300 text-sm mb-2">Filter published posts</p>
              <pre
                class="text-sm text-cyan-200"><code>{`const publishedPosts = await getCollection('blog', ({ data }) => {
  return data.draft !== true;
});`}</code></pre>
            </div>

            <div class="bg-black/30 p-4 rounded-lg">
              <p class="text-cyan-300 text-sm mb-2">Sort by date</p>
              <pre
                class="text-sm text-cyan-200"><code>{`const sortedPosts = await getCollection('blog');
sortedPosts.sort((a, b) => 
  b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);`}</code></pre>
            </div>
          </div>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-cyan-400 mb-3">getEntry()</h3>
          <p class="text-body/80 mb-4">
            Get a single entry by collection and slug:
          </p>

          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-200"><code>{`---
import { getEntry } from 'astro:content';

const post = await getEntry('blog', 'first-post');

// TypeScript knows the exact type!
const title = post.data.title; // string
const date = post.data.pubDate; // Date
---

<h1>{post.data.title}</h1>
<time>{post.data.pubDate.toDateString()}</time>`}</code></pre>
          </div>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-cyan-400 mb-3">getEntries()</h3>
          <p class="text-body/80 mb-4">
            Get multiple specific entries (useful for references):
          </p>

          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-200"><code>{`---
import { getEntries } from 'astro:content';

// In your frontmatter, you might have:
// relatedPosts: ['post-1', 'post-2']

const relatedPosts = await getEntries(
  post.data.relatedPosts.map(slug => ({
    collection: 'blog',
    slug,
  }))
);
---`}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
        Dynamic Routes with Collections
      </h2>

      <div
        class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
      >
        <p class="text-body/80 mb-4">
          Create dynamic routes using <code
            class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
            >[slug].astro</code
          > with <code class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
            >getStaticPaths()</code
          >:
        </p>

        <div class="bg-black/30 p-4 rounded-lg mb-4">
          <p class="text-cyan-300 text-sm mb-2">src/pages/blog/[slug].astro</p>
          <pre
            class="text-sm text-cyan-200"><code>{`---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/BlogLayout.astro';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  
  return posts.map(post => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---

<Layout title={post.data.title}>
  <article>
    <h1>{post.data.title}</h1>
    <p>By {post.data.author} on {post.data.pubDate.toDateString()}</p>
    
    <Content />
  </article>
</Layout>`}</code></pre>
        </div>

        <div class="bg-blue-950/30 border-l-4 border-blue-400 p-4 rounded-lg">
          <p class="text-blue-200 text-sm">
            üí° <strong>Note:</strong> The <code
              class="bg-black/30 px-2 py-0.5 rounded">render()</code
            > method returns a <code class="bg-black/30 px-2 py-0.5 rounded"
              >Content</code
            > component you can use to render the Markdown/MDX body.
          </p>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
          ></path>
        </svg>
        Advanced Schema Types
      </h2>

      <div class="space-y-6">
        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-white mb-3">Working with Images</h3>
          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-200"><code>{`import { defineCollection, z } from 'astro:content';

const blog = defineCollection({
  schema: ({ image }) => z.object({
    title: z.string(),
    // Validate and optimize images
    coverImage: image().refine(img => img.width >= 1200, {
      message: "Cover image must be at least 1200px wide",
    }),
    // Optional image
    thumbnail: image().optional(),
  }),
});`}</code></pre>
          </div>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-white mb-3">
            References Between Collections
          </h3>
          <div class="bg-black/30 p-4 rounded-lg mb-3">
            <pre
              class="text-sm text-cyan-200"><code>{`import { defineCollection, reference, z } from 'astro:content';

const authors = defineCollection({
  schema: z.object({
    name: z.string(),
    bio: z.string(),
  }),
});

const blog = defineCollection({
  schema: z.object({
    title: z.string(),
    // Reference to authors collection
    author: reference('authors'),
    // Array of references
    relatedPosts: z.array(reference('blog')).optional(),
  }),
});

export const collections = { blog, authors };`}</code></pre>
          </div>
          <div class="bg-black/30 p-4 rounded-lg">
            <p class="text-cyan-300 text-sm mb-2">Usage in frontmatter:</p>
            <pre
              class="text-sm text-cyan-200"><code>{`---
title: My Post
author: john-doe  # Refers to authors/john-doe.md
relatedPosts:
  - first-post
  - second-post
---`}</code></pre>
          </div>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-white mb-3">
            Enums and Custom Types
          </h3>
          <div class="bg-black/30 p-4 rounded-lg">
            <pre
              class="text-sm text-cyan-200"><code>{`const blog = defineCollection({
  schema: z.object({
    title: z.string(),
    // Enum with specific values
    category: z.enum(['tutorial', 'guide', 'news']),
    // Union type
    status: z.union([
      z.literal('draft'),
      z.literal('published'),
      z.literal('archived'),
    ]),
    // Nested objects
    author: z.object({
      name: z.string(),
      email: z.string().email(),
      avatar: z.string().url(),
    }),
    // Transformed dates
    pubDate: z.coerce.date(),
    // Custom validation
    readingTime: z.number().min(1).max(60),
  }),
});`}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
        </svg>
        Practical Examples
      </h2>

      <div class="space-y-6">
        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-white mb-3">Blog Index Page</h3>
          <div class="bg-black/30 p-4 rounded-lg">
            <p class="text-cyan-300 text-sm mb-2">src/pages/blog/index.astro</p>
            <pre
              class="text-sm text-cyan-200"><code>{`---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

const posts = await getCollection('blog', ({ data }) => {
  return data.draft !== true;
});

// Sort by date, newest first
const sortedPosts = posts.sort((a, b) => 
  b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Blog">
  <h1>Blog Posts</h1>
  
  <ul>
    {sortedPosts.map(post => (
      <li>
        <a href={\`/blog/\${post.slug}\`}>
          <h2>{post.data.title}</h2>
          <p>{post.data.description}</p>
          <time>{post.data.pubDate.toDateString()}</time>
        </a>
      </li>
    ))}
  </ul>
</Layout>`}</code></pre>
          </div>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-xl font-bold text-white mb-3">Filter Posts by Tag</h3>
          <div class="bg-black/30 p-4 rounded-lg">
            <p class="text-cyan-300 text-sm mb-2">src/pages/tags/[tag].astro</p>
            <pre
              class="text-sm text-cyan-200"><code>{`---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const posts = await getCollection('blog');
  
  // Get all unique tags
  const tags = [...new Set(
    posts.flatMap(post => post.data.tags)
  )];
  
  return tags.map(tag => ({
    params: { tag },
    props: {
      posts: posts.filter(post => 
        post.data.tags.includes(tag)
      ),
    },
  }));
}

const { tag } = Astro.params;
const { posts } = Astro.props;
---

<h1>Posts tagged with "{tag}"</h1>
{posts.map(post => (
  <article>
    <h2>{post.data.title}</h2>
  </article>
))}`}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        Best Practices
      </h2>

      <div class="grid md:grid-cols-2 gap-6">
        <div
          class="bg-gradient-to-br from-green-950/30 to-emerald-950/30 p-6 rounded-lg border border-green-500/20"
        >
          <h3 class="text-lg font-semibold text-green-400 mb-4">‚úì DO</h3>
          <ul class="space-y-3 text-sm text-body/80">
            <li class="flex items-start gap-2">
              <span class="text-green-400">‚úì</span>
              <span>Use strict schemas - validate everything</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-400">‚úì</span>
              <span>Provide default values for optional fields</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-400">‚úì</span>
              <span
                >Use <code class="bg-black/30 px-1 rounded text-xs"
                  >z.coerce.date()</code
                > for date parsing</span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-400">‚úì</span>
              <span>Keep collection schemas in one config file</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-green-400">‚úì</span>
              <span>Use references for related content</span>
            </li>
          </ul>
        </div>

        <div
          class="bg-gradient-to-br from-red-950/30 to-pink-950/30 p-6 rounded-lg border border-red-500/20"
        >
          <h3 class="text-lg font-semibold text-red-400 mb-4">‚úó DON'T</h3>
          <ul class="space-y-3 text-sm text-body/80">
            <li class="flex items-start gap-2">
              <span class="text-red-400">‚úó</span>
              <span
                >Put content files outside <code
                  class="bg-black/30 px-1 rounded text-xs">src/content/</code
                ></span
              >
            </li>
            <li class="flex items-start gap-2">
              <span class="text-red-400">‚úó</span>
              <span>Use optional fields without defaults</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-red-400">‚úó</span>
              <span>Store large binary files in collections</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-red-400">‚úó</span>
              <span>Mix different content types in one collection</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-red-400">‚úó</span>
              <span>Forget to handle draft/published states</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-2">
        <svg
          class="w-7 h-7 text-cyan-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
          ></path>
        </svg>
        Common Issues
      </h2>

      <div class="space-y-4">
        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-lg font-semibold text-white mb-2">
            ‚ùì Schema validation errors
          </h3>
          <p class="text-body/80 mb-2">
            <strong>Problem:</strong> Getting Zod validation errors at build time.
          </p>
          <p class="text-body/80">
            <strong>Solution:</strong> Check your frontmatter matches the schema exactly.
            Use <code class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
              >npx astro check</code
            > to see detailed errors.
          </p>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-lg font-semibold text-white mb-2">
            ‚ùì TypeScript errors in IDE
          </h3>
          <p class="text-body/80 mb-2">
            <strong>Problem:</strong> IDE doesn't recognize collection types.
          </p>
          <p class="text-body/80">
            <strong>Solution:</strong> Run <code
              class="bg-black/30 px-2 py-0.5 rounded text-cyan-300"
              >npx astro sync</code
            > to generate types. Restart your TypeScript server.
          </p>
        </div>

        <div
          class="bg-neutral-secondary-soft p-6 rounded-lg border border-default"
        >
          <h3 class="text-lg font-semibold text-white mb-2">
            ‚ùì Content not updating
          </h3>
          <p class="text-body/80 mb-2">
            <strong>Problem:</strong> Changes to Markdown files not reflecting.
          </p>
          <p class="text-body/80">
            <strong>Solution:</strong> Restart the dev server. Collections are cached
            for performance.
          </p>
        </div>
      </div>
    </section>

    <section
      class="p-6 bg-gradient-to-r from-cyan-950/40 to-blue-950/40 rounded-lg border border-cyan-500/30"
    >
      <div class="flex items-start gap-4">
        <svg
          class="w-8 h-8 text-cyan-400 flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
          ></path>
        </svg>
        <div>
          <h3 class="text-lg font-semibold text-white mb-2">
            Additional Resources
          </h3>
          <ul class="space-y-2 text-body/80">
            <li class="flex items-start gap-2">
              <span class="text-cyan-400">‚Üí</span>
              <a
                href="https://docs.astro.build/en/guides/content-collections/"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 hover:underline"
              >
                Official Astro Content Collections Guide
              </a>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-cyan-400">‚Üí</span>
              <a
                href="https://zod.dev/"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 hover:underline"
              >
                Zod Documentation (for schema validation)
              </a>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-cyan-400">‚Üí</span>
              <a
                href="/docs/astro/project-structure"
                class="text-cyan-400 hover:text-cyan-300 hover:underline"
              >
                Project Structure Guide
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
  </div>
</DocsLayout>
